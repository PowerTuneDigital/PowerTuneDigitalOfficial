\hypertarget{downloadmanager_8h_source}{}\doxysection{downloadmanager.\+h}
\mbox{\hyperlink{downloadmanager_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/****************************************************************************}}
\DoxyCodeLine{2 \textcolor{comment}{**}}
\DoxyCodeLine{3 \textcolor{comment}{** Copyright (C) 2016 The Qt Company Ltd.}}
\DoxyCodeLine{4 \textcolor{comment}{** Contact: https://www.qt.io/licensing/}}
\DoxyCodeLine{5 \textcolor{comment}{**}}
\DoxyCodeLine{6 \textcolor{comment}{** This file is part of the examples of the Qt Toolkit.}}
\DoxyCodeLine{7 \textcolor{comment}{**}}
\DoxyCodeLine{8 \textcolor{comment}{** \$QT\_BEGIN\_LICENSE:BSD\$}}
\DoxyCodeLine{9 \textcolor{comment}{** Commercial License Usage}}
\DoxyCodeLine{10 \textcolor{comment}{** Licensees holding valid commercial Qt licenses may use this file in}}
\DoxyCodeLine{11 \textcolor{comment}{** accordance with the commercial license agreement provided with the}}
\DoxyCodeLine{12 \textcolor{comment}{** Software or, alternatively, in accordance with the terms contained in}}
\DoxyCodeLine{13 \textcolor{comment}{** a written agreement between you and The Qt Company. For licensing terms}}
\DoxyCodeLine{14 \textcolor{comment}{** and conditions see https://www.qt.io/terms-\/conditions. For further}}
\DoxyCodeLine{15 \textcolor{comment}{** information use the contact form at https://www.qt.io/contact-\/us.}}
\DoxyCodeLine{16 \textcolor{comment}{**}}
\DoxyCodeLine{17 \textcolor{comment}{** BSD License Usage}}
\DoxyCodeLine{18 \textcolor{comment}{** Alternatively, you may use this file under the terms of the BSD license}}
\DoxyCodeLine{19 \textcolor{comment}{** as follows:}}
\DoxyCodeLine{20 \textcolor{comment}{**}}
\DoxyCodeLine{21 \textcolor{comment}{** "{}Redistribution and use in source and binary forms, with or without}}
\DoxyCodeLine{22 \textcolor{comment}{** modification, are permitted provided that the following conditions are}}
\DoxyCodeLine{23 \textcolor{comment}{** met:}}
\DoxyCodeLine{24 \textcolor{comment}{**   * Redistributions of source code must retain the above copyright}}
\DoxyCodeLine{25 \textcolor{comment}{**     notice, this list of conditions and the following disclaimer.}}
\DoxyCodeLine{26 \textcolor{comment}{**   * Redistributions in binary form must reproduce the above copyright}}
\DoxyCodeLine{27 \textcolor{comment}{**     notice, this list of conditions and the following disclaimer in}}
\DoxyCodeLine{28 \textcolor{comment}{**     the documentation and/or other materials provided with the}}
\DoxyCodeLine{29 \textcolor{comment}{**     distribution.}}
\DoxyCodeLine{30 \textcolor{comment}{**   * Neither the name of The Qt Company Ltd nor the names of its}}
\DoxyCodeLine{31 \textcolor{comment}{**     contributors may be used to endorse or promote products derived}}
\DoxyCodeLine{32 \textcolor{comment}{**     from this software without specific prior written permission.}}
\DoxyCodeLine{33 \textcolor{comment}{**}}
\DoxyCodeLine{34 \textcolor{comment}{**}}
\DoxyCodeLine{35 \textcolor{comment}{** THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS}}
\DoxyCodeLine{36 \textcolor{comment}{** "{}AS IS"{} AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT}}
\DoxyCodeLine{37 \textcolor{comment}{** LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR}}
\DoxyCodeLine{38 \textcolor{comment}{** A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT}}
\DoxyCodeLine{39 \textcolor{comment}{** OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,}}
\DoxyCodeLine{40 \textcolor{comment}{** SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT}}
\DoxyCodeLine{41 \textcolor{comment}{** LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,}}
\DoxyCodeLine{42 \textcolor{comment}{** DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY}}
\DoxyCodeLine{43 \textcolor{comment}{** THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT}}
\DoxyCodeLine{44 \textcolor{comment}{** (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE}}
\DoxyCodeLine{45 \textcolor{comment}{** OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE."{}}}
\DoxyCodeLine{46 \textcolor{comment}{**}}
\DoxyCodeLine{47 \textcolor{comment}{** \$QT\_END\_LICENSE\$}}
\DoxyCodeLine{48 \textcolor{comment}{**}}
\DoxyCodeLine{49 \textcolor{comment}{****************************************************************************/}}
\DoxyCodeLine{50 }
\DoxyCodeLine{51 \textcolor{preprocessor}{\#ifndef DOWNLOADMANAGER\_H}}
\DoxyCodeLine{52 \textcolor{preprocessor}{\#define DOWNLOADMANAGER\_H}}
\DoxyCodeLine{53 }
\DoxyCodeLine{54 \textcolor{preprocessor}{\#include <QtNetwork>}}
\DoxyCodeLine{55 \textcolor{preprocessor}{\#include <QtCore>}}
\DoxyCodeLine{56 }
\DoxyCodeLine{57 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{textprogressbar_8h}{textprogressbar.h}}"{}}}
\DoxyCodeLine{58 }
\DoxyCodeLine{59 \textcolor{keyword}{class }\mbox{\hyperlink{classDownloadManager}{DownloadManager}}: \textcolor{keyword}{public} QObject}
\DoxyCodeLine{60 \{}
\DoxyCodeLine{61     Q\_OBJECT}
\DoxyCodeLine{62     Q\_PROPERTY(QString \mbox{\hyperlink{classDownloadManager_aca505a1aa70cea6150c33943dfea97b5}{downloadStatus}} READ \mbox{\hyperlink{classDownloadManager_aca505a1aa70cea6150c33943dfea97b5}{downloadStatus}} WRITE \mbox{\hyperlink{classDownloadManager_afe821e6eac5970b806896d1eb5abea30}{setDownloadStatus}} NOTIFY \mbox{\hyperlink{classDownloadManager_afb8daae55d60188b225b8a4b60d1dba5}{downloadStatusChanged}})}
\DoxyCodeLine{63     Q\_PROPERTY(QString \mbox{\hyperlink{classDownloadManager_a13208b8d128159c08a1de4ac826c11c6}{downloadFilename}} READ \mbox{\hyperlink{classDownloadManager_a13208b8d128159c08a1de4ac826c11c6}{downloadFilename}} WRITE \mbox{\hyperlink{classDownloadManager_a3b2f0bf89f97c8c61836376328c0208d}{setDownloadFilename}} NOTIFY \mbox{\hyperlink{classDownloadManager_ab2b58d78d9774b856529bc821cd527d6}{downloadFilenameChanged}})}
\DoxyCodeLine{64 \textcolor{keyword}{public}:}
\DoxyCodeLine{65     \textcolor{keyword}{explicit} \mbox{\hyperlink{classDownloadManager_a655c570e812e86c7a2b9476dd830d136}{DownloadManager}}(QObject *parent = \textcolor{keyword}{nullptr});}
\DoxyCodeLine{66     Q\_INVOKABLE \textcolor{keywordtype}{void} \mbox{\hyperlink{classDownloadManager_afa2ecdfa2483d265db87682234f817e5}{append}}(\textcolor{keyword}{const} QUrl \&url);}
\DoxyCodeLine{67     Q\_INVOKABLE \textcolor{keywordtype}{void} \mbox{\hyperlink{classDownloadManager_afa2ecdfa2483d265db87682234f817e5}{append}}(\textcolor{keyword}{const} QStringList \&urls);}
\DoxyCodeLine{68     \textcolor{keyword}{static} QString \mbox{\hyperlink{classDownloadManager_a40a2bd7e138955b1accb75841c8dfd69}{saveFileName}}(\textcolor{keyword}{const} QUrl \&url);}
\DoxyCodeLine{69 }
\DoxyCodeLine{70 }
\DoxyCodeLine{71 }
\DoxyCodeLine{72     \textcolor{comment}{//Expose to QML}}
\DoxyCodeLine{73     \textcolor{keywordtype}{void} \mbox{\hyperlink{classDownloadManager_afe821e6eac5970b806896d1eb5abea30}{setDownloadStatus}}(\textcolor{keyword}{const} QString \&\mbox{\hyperlink{classDownloadManager_aca505a1aa70cea6150c33943dfea97b5}{downloadStatus}});}
\DoxyCodeLine{74     QString \mbox{\hyperlink{classDownloadManager_aca505a1aa70cea6150c33943dfea97b5}{downloadStatus}}() \textcolor{keyword}{const};}
\DoxyCodeLine{75     QString \mbox{\hyperlink{classDownloadManager_ae29838d156667434527c2032bb4d7225}{m\_downloadStatus}};}
\DoxyCodeLine{76 }
\DoxyCodeLine{77     \textcolor{keywordtype}{void} \mbox{\hyperlink{classDownloadManager_a3b2f0bf89f97c8c61836376328c0208d}{setDownloadFilename}}(\textcolor{keyword}{const} QString \&\mbox{\hyperlink{classDownloadManager_a13208b8d128159c08a1de4ac826c11c6}{downloadFilename}});}
\DoxyCodeLine{78     QString \mbox{\hyperlink{classDownloadManager_a13208b8d128159c08a1de4ac826c11c6}{downloadFilename}}() \textcolor{keyword}{const};}
\DoxyCodeLine{79     QString \mbox{\hyperlink{classDownloadManager_a442e1f28f3a8483f616a7394eb9f1908}{m\_downloadFilename}};}
\DoxyCodeLine{80 }
\DoxyCodeLine{81 signals:}
\DoxyCodeLine{82     \textcolor{keywordtype}{void} \mbox{\hyperlink{classDownloadManager_a740f81253ac9b6448998956db00c810f}{finished}}();}
\DoxyCodeLine{83     \textcolor{keywordtype}{void} \mbox{\hyperlink{classDownloadManager_afb8daae55d60188b225b8a4b60d1dba5}{downloadStatusChanged}}(QString \mbox{\hyperlink{classDownloadManager_aca505a1aa70cea6150c33943dfea97b5}{downloadStatus}});}
\DoxyCodeLine{84     \textcolor{keywordtype}{void} \mbox{\hyperlink{classDownloadManager_ab2b58d78d9774b856529bc821cd527d6}{downloadFilenameChanged}}(QString \mbox{\hyperlink{classDownloadManager_a13208b8d128159c08a1de4ac826c11c6}{downloadFilename}});}
\DoxyCodeLine{85 }
\DoxyCodeLine{86 \textcolor{keyword}{private} slots:}
\DoxyCodeLine{87     \textcolor{keywordtype}{void} \mbox{\hyperlink{classDownloadManager_a5b2dc25fef54a4e61b48aa2c64854450}{startNextDownload}}();}
\DoxyCodeLine{88     \textcolor{keywordtype}{void} \mbox{\hyperlink{classDownloadManager_ac8c0eab33303a6ce3dcfddf1795cee0c}{downloadProgress}}(qint64 bytesReceived, qint64 bytesTotal);}
\DoxyCodeLine{89     \textcolor{keywordtype}{void} \mbox{\hyperlink{classDownloadManager_a3db45b9d3b58f6e6cf7c75a263fb85ce}{downloadFinished}}();}
\DoxyCodeLine{90     \textcolor{keywordtype}{void} \mbox{\hyperlink{classDownloadManager_a5658efb355cf64437bf0c206e6ee0c63}{downloadReadyRead}}();}
\DoxyCodeLine{91 }
\DoxyCodeLine{92 }
\DoxyCodeLine{93 \textcolor{keyword}{private}:}
\DoxyCodeLine{94     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classDownloadManager_a9f39dbbaf6b7fe76261158273a4220ff}{isHttpRedirect}}() \textcolor{keyword}{const};}
\DoxyCodeLine{95     \textcolor{keywordtype}{void} \mbox{\hyperlink{classDownloadManager_ad61fdaf56f156496613a587a873e06ff}{reportRedirect}}();}
\DoxyCodeLine{96 }
\DoxyCodeLine{97     QNetworkAccessManager \mbox{\hyperlink{classDownloadManager_a62a748fa77a6ebbab0f3f75ac810c5e9}{manager}};}
\DoxyCodeLine{98     QQueue<QUrl> \mbox{\hyperlink{classDownloadManager_a1571a49b71acde0ea527a7dba1ee9afe}{downloadQueue}};}
\DoxyCodeLine{99     QNetworkReply *\mbox{\hyperlink{classDownloadManager_a2593b6dcc95d5254bfb9fee4dd024c2c}{currentDownload}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{100     QFile \mbox{\hyperlink{classDownloadManager_a1d47f0b394ba68ccb5c94db0353a7e22}{output}};}
\DoxyCodeLine{101     QElapsedTimer \mbox{\hyperlink{classDownloadManager_a54a8e7c2e44f91192872091cfa43012c}{downloadTimer}};}
\DoxyCodeLine{102     \mbox{\hyperlink{classTextProgressBar}{TextProgressBar}} \mbox{\hyperlink{classDownloadManager_a06e7107c834db4c7b7d5f16dbdd9ef7b}{progressBar}};}
\DoxyCodeLine{103 }
\DoxyCodeLine{104     \textcolor{keywordtype}{int} \mbox{\hyperlink{classDownloadManager_a4a26042d71a3cfff830523de794e4534}{downloadedCount}} = 0;}
\DoxyCodeLine{105     \textcolor{keywordtype}{int} \mbox{\hyperlink{classDownloadManager_a7eb288a1b2be986eb749945946e14c90}{totalCount}} = 0;}
\DoxyCodeLine{106 \};}
\DoxyCodeLine{107 }
\DoxyCodeLine{108 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
